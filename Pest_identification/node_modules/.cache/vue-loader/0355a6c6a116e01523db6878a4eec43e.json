{"remainingRequest":"C:\\Users\\leo\\Desktop\\害虫识别\\Pest_identification\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\leo\\Desktop\\害虫识别\\Pest_identification\\node_modules\\@jiaminghi\\data-view\\lib\\components\\capsuleChart\\src\\main.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\leo\\Desktop\\害虫识别\\Pest_identification\\node_modules\\@jiaminghi\\data-view\\lib\\components\\capsuleChart\\src\\main.vue","mtime":1622556304218},{"path":"C:\\Users\\leo\\Desktop\\害虫识别\\Pest_identification\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1622556308397},{"path":"C:\\Users\\leo\\Desktop\\害虫识别\\Pest_identification\\node_modules\\babel-loader\\lib\\index.js","mtime":1622556308347},{"path":"C:\\Users\\leo\\Desktop\\害虫识别\\Pest_identification\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1622556308397},{"path":"C:\\Users\\leo\\Desktop\\害虫识别\\Pest_identification\\node_modules\\vue-loader\\lib\\index.js","mtime":1622556323213}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRlZXBNZXJnZSB9IGZyb20gJ0BqaWFtaW5naGkvY2hhcnRzL2xpYi91dGlsL2luZGV4JwoKaW1wb3J0IHsgZGVlcENsb25lIH0gZnJvbSAnQGppYW1pbmdoaS9jLXJlbmRlci9saWIvcGx1Z2luL3V0aWwnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0R2Q2Fwc3VsZUNoYXJ0JywKICBwcm9wczogewogICAgY29uZmlnOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4gKHt9KQogICAgfQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBkZWZhdWx0Q29uZmlnOiB7CiAgICAgICAgLyoqCiAgICAgICAgICogQGRlc2NyaXB0aW9uIENhcHN1bGUgY2hhcnQgZGF0YQogICAgICAgICAqIEB0eXBlIHtBcnJheTxPYmplY3Q+fQogICAgICAgICAqIEBkZWZhdWx0IGRhdGEgPSBbXQogICAgICAgICAqIEBleGFtcGxlIGRhdGEgPSBbeyBuYW1lOiAnZm9vMScsIHZhbHVlOiAxMDAgfSwgeyBuYW1lOiAnZm9vMicsIHZhbHVlOiAxMDAgfV0KICAgICAgICAgKi8KICAgICAgICBkYXRhOiBbXSwKICAgICAgICAvKioKICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ29sb3JzIChoZXh8cmdifHJnYmF8Y29sb3Iga2V5d29yZHMpCiAgICAgICAgICogQHR5cGUge0FycmF5PFN0cmluZz59CiAgICAgICAgICogQGRlZmF1bHQgY29sb3IgPSBbJyMzN2EyZGEnLCAnIzMyYzVlOScsICcjNjdlMGUzJywgJyM5ZmU2YjgnLCAnI2ZmZGI1YycsICcjZmY5ZjdmJywgJyNmYjcyOTMnXQogICAgICAgICAqIEBleGFtcGxlIGNvbG9yID0gWycjMDAwJywgJ3JnYigwLCAwLCAwKScsICdyZ2JhKDAsIDAsIDAsIDEpJywgJ3JlZCddCiAgICAgICAgICovCiAgICAgICAgY29sb3JzOiBbJyMzN2EyZGEnLCAnIzMyYzVlOScsICcjNjdlMGUzJywgJyM5ZmU2YjgnLCAnI2ZmZGI1YycsICcjZmY5ZjdmJywgJyNmYjcyOTMnXSwKICAgICAgICAvKioKICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ2hhcnQgdW5pdAogICAgICAgICAqIEB0eXBlIHtTdHJpbmd9CiAgICAgICAgICogQGRlZmF1bHQgdW5pdCA9ICcnCiAgICAgICAgICovCiAgICAgICAgdW5pdDogJycKICAgICAgfSwKCiAgICAgIG1lcmdlZENvbmZpZzogbnVsbCwKCiAgICAgIGNhcHN1bGVMZW5ndGg6IFtdLAogICAgICBsYWJlbERhdGE6IFtdCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgY29uZmlnICgpIHsKICAgICAgY29uc3QgeyBjYWxjRGF0YSB9ID0gdGhpcwoKICAgICAgY2FsY0RhdGEoKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2FsY0RhdGEgKCkgewogICAgICBjb25zdCB7IG1lcmdlQ29uZmlnLCBjYWxjQ2Fwc3VsZUxlbmd0aEFuZExhYmVsRGF0YSB9ID0gdGhpcwoKICAgICAgbWVyZ2VDb25maWcoKQoKICAgICAgY2FsY0NhcHN1bGVMZW5ndGhBbmRMYWJlbERhdGEoKQogICAgfSwKICAgIG1lcmdlQ29uZmlnICgpIHsKICAgICAgbGV0IHsgY29uZmlnLCBkZWZhdWx0Q29uZmlnIH0gPSB0aGlzCgogICAgICB0aGlzLm1lcmdlZENvbmZpZyA9IGRlZXBNZXJnZShkZWVwQ2xvbmUoZGVmYXVsdENvbmZpZywgdHJ1ZSksIGNvbmZpZyB8fCB7fSkKICAgIH0sCiAgICBjYWxjQ2Fwc3VsZUxlbmd0aEFuZExhYmVsRGF0YSAoKSB7CiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gdGhpcy5tZXJnZWRDb25maWcKCiAgICAgIGlmICghZGF0YS5sZW5ndGgpIHJldHVybgoKICAgICAgY29uc3QgY2Fwc3VsZVZhbHVlID0gZGF0YS5tYXAoKHsgdmFsdWUgfSkgPT4gdmFsdWUpCgogICAgICBjb25zdCBtYXhWYWx1ZSA9IE1hdGgubWF4KC4uLmNhcHN1bGVWYWx1ZSkKCiAgICAgIHRoaXMuY2Fwc3VsZUxlbmd0aCA9IGNhcHN1bGVWYWx1ZS5tYXAodiA9PiBtYXhWYWx1ZSA/IHYgLyBtYXhWYWx1ZSA6IDApCgogICAgICBjb25zdCBvbmVGaWZ0aCA9IG1heFZhbHVlIC8gNQoKICAgICAgdGhpcy5sYWJlbERhdGEgPSBuZXcgQXJyYXkoNikuZmlsbCgwKS5tYXAoKHYsIGkpID0+IE1hdGguY2VpbChpICogb25lRmlmdGgpKQogICAgfQogIH0sCiAgbW91bnRlZCAoKSB7CiAgICBjb25zdCB7IGNhbGNEYXRhIH0gPSB0aGlzCgogICAgY2FsY0RhdGEoKQogIH0KfQo="},{"version":3,"sources":["main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"main.vue","sourceRoot":"node_modules/@jiaminghi/data-view/lib/components/capsuleChart/src","sourcesContent":["<template>\n  <div class=\"dv-capsule-chart\">\n    <template v-if=\"mergedConfig\">\n      <div class=\"label-column\">\n        <div v-for=\"item in mergedConfig.data\" :key=\"item.name\">{{ item.name }}</div>\n        <div>&nbsp;</div>\n      </div>\n\n      <div class=\"capsule-container\">\n        <div\n          class=\"capsule-item\"\n          v-for=\"(capsule, index) in capsuleLength\"\n          :key=\"index\"\n        >\n          <div :style=\"`width: ${capsule * 100}%; background-color: ${mergedConfig.colors[index % mergedConfig.colors.length]};`\"></div>\n        </div>\n\n        <div class=\"unit-label\">\n          <div v-for=\"(label, index) in labelData\" :key=\"label + index\">{{ label }}</div>\n        </div>\n      </div>\n\n      <div class=\"unit-text\" v-if=\"mergedConfig.unit\">{{ mergedConfig.unit }}</div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\n\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\n\nexport default {\n  name: 'DvCapsuleChart',\n  props: {\n    config: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  data () {\n    return {\n      defaultConfig: {\n        /**\n         * @description Capsule chart data\n         * @type {Array<Object>}\n         * @default data = []\n         * @example data = [{ name: 'foo1', value: 100 }, { name: 'foo2', value: 100 }]\n         */\n        data: [],\n        /**\n         * @description Colors (hex|rgb|rgba|color keywords)\n         * @type {Array<String>}\n         * @default color = ['#37a2da', '#32c5e9', '#67e0e3', '#9fe6b8', '#ffdb5c', '#ff9f7f', '#fb7293']\n         * @example color = ['#000', 'rgb(0, 0, 0)', 'rgba(0, 0, 0, 1)', 'red']\n         */\n        colors: ['#37a2da', '#32c5e9', '#67e0e3', '#9fe6b8', '#ffdb5c', '#ff9f7f', '#fb7293'],\n        /**\n         * @description Chart unit\n         * @type {String}\n         * @default unit = ''\n         */\n        unit: ''\n      },\n\n      mergedConfig: null,\n\n      capsuleLength: [],\n      labelData: []\n    }\n  },\n  watch: {\n    config () {\n      const { calcData } = this\n\n      calcData()\n    }\n  },\n  methods: {\n    calcData () {\n      const { mergeConfig, calcCapsuleLengthAndLabelData } = this\n\n      mergeConfig()\n\n      calcCapsuleLengthAndLabelData()\n    },\n    mergeConfig () {\n      let { config, defaultConfig } = this\n\n      this.mergedConfig = deepMerge(deepClone(defaultConfig, true), config || {})\n    },\n    calcCapsuleLengthAndLabelData () {\n      const { data } = this.mergedConfig\n\n      if (!data.length) return\n\n      const capsuleValue = data.map(({ value }) => value)\n\n      const maxValue = Math.max(...capsuleValue)\n\n      this.capsuleLength = capsuleValue.map(v => maxValue ? v / maxValue : 0)\n\n      const oneFifth = maxValue / 5\n\n      this.labelData = new Array(6).fill(0).map((v, i) => Math.ceil(i * oneFifth))\n    }\n  },\n  mounted () {\n    const { calcData } = this\n\n    calcData()\n  }\n}\n</script>"]}]}